import React, { FC, useEffect, useState } from 'react';
import { Modal } from 'antd';
import FileItemTable, { FileItemTableProps } from './FileItemTable';

const IconDiskLogo = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTMiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxOTMgMzAiIHg9IjEzMCIgZGF0YS1uYW1lPSJsb2dvIiBkYXRhLXN2Zy1pZD0iNTJmZjc4MmZlNiI+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUyLjg3IDkuNzU4djUuMDA3aDUuOTc1djIuMjc4SDUyLjg3djQuNzVoNy42NDh2Mi4yNzZoLTE5LjI4di0yLjI3NmgzLjQwNXYtOC43MzFoMi4yODV2OC43MzFoMy42MDZWOS43NThoMi4zMzZ6bS0xLjAyLTYuMDkxYzIuNzQyIDMuMTI1IDYuMTYgNS43OTYgOS45MTYgNy41ODJsLTEuMjcxIDIuMzAyYy0zLjcxLTEuOTI0LTYuODctNC40Mi05LjQ4LTcuNTEtMi40MDUgMi44ODUtNS41ODggNS40MDMtOS41NzIgNy41MzNsLTEuMjE0LTIuMjY3YzQuMDA3LTEuOTcgNy40MjQtNC43MSA5Ljk1LTcuNjRoMS42N3pNODQuMDU1IDguODljLS44NyAzLjkxNi0xLjkxIDcuMzA0LTMuMjM5IDEwLjIzNWwtMi4wNzgtLjczYzEuMjgyLTIuNjU2IDIuMjQ5LTYuMDI0IDMuMjEtMTAuMWwyLjEwNy41OTZ6bS0xNC4zMjggOS42NDgtMi4xNzUuNTI3Yy0uNzgtMy41NzMtMS43ODItNi45MTgtMi45NzItMTAuMjM4bDIuMDM4LS42ODhhNzguODEgNzguODEgMCAwIDEgMy4xMDkgMTAuMzk5em0zLjM2OC0xNC43MzN2MTcuOTNoMi4xODJWMy44MDRoMi40MDR2MTcuOTNoNi44OTJ2Mi4zMzVINjQuMTAydi0yLjMzNmg2LjU4OVYzLjgwNGgyLjQwNHptMjkuNzUxIDYuNzQyYy4zMjEgMS44NzguNzQ1IDMuODMgMS4yMDMgNS4yOTYuNTAzLTEuOTI0Ljc1NC00LjEzOC44NDYtNi41OWgtMS43NzNjLS4xMzcuNTUtLjEzOS43OS0uMjc2IDEuMjk0em0tMS4xNjYgMy4zMWEyNC4xMyAyNC4xMyAwIDAgMS0uOTg1IDIuMDM4bC0xLjMwNS0xLjcxMmMwLS4wMjMuMDIzLS4wNDYuMDIzLS4wNDZoLTcuMDN2LTEuOTdoNy4zMjh2MS4zNDZjMS4wNzYtMi41NjUgMS44MDktNS44NjIgMi4yMjEtOS44OTJsMi4wNi4zNjdjLS4xMzcgMS4wNTMtLjI3NCAyLjI3NC0uNDM0IDMuMjM1aDQuMjIydjIuMDNoLS45OTRjLS4xMTQgMy43NTYtLjY1OSA2LjY0NS0xLjY2NiA5LjMwMi43NzggMS42MjUgMS44ODMgMy4zNjUgMi45MzYgNC4yODJsLTEuMzc0IDIuMDE0Yy0uOTE2LS45MTUtMS45MDYtMi41NjQtMi42MTYtNC4wM2ExNS4xMTUgMTUuMTE1IDAgMCAxLTMuMDIzIDMuODE0bC0xLjI2NC0xLjY5OWMxLjI4Mi0xLjA5OSAyLjQyNy0yLjYyMiAzLjIwNi00LjM4NWEzNy4xOTYgMzcuMTk2IDAgMCAxLTEuMzA1LTQuNjk0ek05Ny4xNjMgMy42OHY1LjEzM2gxLjA2NVY0LjkxN2gxLjcxdjUuNzdoLTcuNDF2LTUuNzdoMS42OTJ2My44OTZoMS4wOTNsLS4wNTItNS4xNDYgMS45MDIuMDEzem0tLjcyNyAxNy45NGMuMjc0LS4xNjEuNDU4LS40MTMuNTI3LS43MzNWMTcuNTJoLTEuNzg2djEuMDNjLS4wNDYgMi43NDgtLjgzIDQuNzU1LTIuMTU5IDYuMTI4bC0xLjUxLTEuNTY0YzEuMDk5LTEuMDc2IDEuNDQ3LTIuNTUgMS40Ny00LjU2NHYtMi45NzZoNi4wNjh2NC4yNzVsMS41NTgtMS4zMTYuNTg3IDEuODA2LTMuNzc2IDMuMTE2LS45OC0xLjgzN3ptLTQuMzg3LTEwLjc4NGMtLjI5OC43NzktLjcwOCAxLjU4Ny0xLjA5OCAyLjI5N2wtLjAxIDExLjc2MWgtMS45OXYtOS4xMzhjLS41MDMuNTUtMS4wODcgMS4yNjUtMS42MzYgMS43NjlsLS45OTItMS44NTNjMS42MDMtMS42MDMgMy4xMzItMy42NjkgMy44ODgtNS44MjFsMS44MzguOTg1em0uMTA4LTYuMDg1YTE3LjMwNyAxNy4zMDcgMCAwIDEtNC43NjUgNi44NDRsLTEuMDU0LTEuOTdjMS42MzItMS40OSAzLjE2LTMuODQ0IDMuOTQtNS44ODJsMS44NzkgMS4wMDh6bTI3Ljk2NiAxNy42OTloNy40ODh2LTMuMzgzaC03LjQ4OHYzLjM4M3ptOS41MzQtOC45ODcuMDA0IDIuMDZoLTExLjc2M2wuMDE3LTIuMDZoMTEuNzQyem0tMTEuNzk0LTEuMzY4aDExLjc2NHYtMi4wNTZoLTExLjc2NHYyLjA1NnptLjA1MiAxMi4zNjdoMTEuODY3di03LjQ3NGgtMTEuODY3djcuNDc0em00LjUyMy0xNy44Ni0uODYzLTIuMTMzIDIuMTkxLS41OTIgMS4wMzEgMi43MjVoNi41NDd2Mi4xNDFoLTE1LjA5MVY2LjYwMmg2LjE4NXptLTExLjcyNiA4LjM3Ni0uOTA2LTIuNDg2YzIuMzMyLTIuNDEgMy43ODMtNS43IDQuNzMtOS4wNzdsMi4xNzYgMS4wMTNjLS41MDQgMS43MTgtMS4xIDMuMzM3LTEuOTI0IDQuODk1djE1LjU3MWgtMi4yNDVWMTIuODcxYy0uNTQ5LjczMy0xLjIzNiAxLjQyLTEuODMxIDIuMTA3eiIgZmlsbD0iIzAwODJFRiIvPgogICAgPG1hc2sgaWQ9ImEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjIzIiB5PSIyMyIgd2lkdGg9IjgiIGhlaWdodD0iNyI+CiAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMy45OSAyMy44OTVhLjQ5NS40OTUgMCAwIDAgLjA3Ljc1OCA2LjM2NiA2LjM2NiAwIDAgMSAxLjg5MiAzLjQwMiAyLjA2MyAyLjA2MyAwIDAgMCAuNjAyIDEuMzM4IDIuMDcxIDIuMDcxIDAgMSAwIDEuNjgxLTMuNTI1IDYuMzY1IDYuMzY1IDAgMCAxLTMuNTQ0LTEuOTczLjQ5Mi40OTIgMCAwIDAtLjcgMHoiIGZpbGw9IiNmZmYiLz4KICAgIDwvbWFzaz4KICAgIDxnIG1hc2s9InVybCgjYSkiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjMuNjI3IDMwLjIxOGg2LjY4MXYtNi42ODZoLTYuNjgxdjYuNjg2eiIgZmlsbD0iI0ZCNjUwMCIvPgogICAgPC9nPgogICAgPG1hc2sgaWQ9ImIiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjI5IiB5PSIyMCIgd2lkdGg9IjciIGhlaWdodD0iNyI+CiAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMi40MTEgMjAuNjJhMi4wNjMgMi4wNjMgMCAwIDAtLjU5NSAxLjI0OCA2LjM2OCA2LjM2OCAwIDAgMS0xLjk3MyAzLjU0NS40OTUuNDk1IDAgMSAwIC43NTguNjMxIDYuMzYzIDYuMzYzIDAgMCAxIDMuNDAyLTEuODkyIDIuMDI3IDIuMDI3IDAgMCAwIC40Mi0uMDY5IDIuMDcyIDIuMDcyIDAgMSAwLTIuMDEyLTMuNDYyeiIgZmlsbD0iI2ZmZiIvPgogICAgPC9tYXNrPgogICAgPGcgbWFzaz0idXJsKCNiKSI+CiAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yOS40OCAyNi40NzZoNi42ODZ2LTYuNjgxSDI5LjQ4djYuNjgxeiIgZmlsbD0iIzAwODJFRiIvPgogICAgPC9nPgogICAgPG1hc2sgaWQ9ImMiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjI1IiB5PSIxNCIgd2lkdGg9IjgiIGhlaWdodD0iNyI+CiAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi41NjggMTQuNzYzYTIuMDczIDIuMDczIDAgMCAwIDEuMjQ4IDMuNTI1IDYuMzYzIDYuMzYzIDAgMCAxIDMuNTQ1IDEuOTczLjQ5Ni40OTYgMCAxIDAgLjYzMS0uNzU4IDYuMzY3IDYuMzY3IDAgMCAxLTEuODkyLTMuNDAyIDIuMTQzIDIuMTQzIDAgMCAwLS4wNjktLjQyIDIuMDY5IDIuMDY5IDAgMCAwLTEuOTk4LTEuNTI1Yy0uNTMgMC0xLjA2LjIwMy0xLjQ2NS42MDd6IiBmaWxsPSIjZmZmIi8+CiAgICA8L21hc2s+CiAgICA8ZyBtYXNrPSJ1cmwoI2MpIj4KICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI1Ljc0NCAyMC42MjRoNi42OHYtNi42ODZoLTYuNjh2Ni42ODZ6IiBmaWxsPSIjMkRCQzAwIi8+CiAgICA8L2c+CiAgICA8bWFzayBpZD0iZCIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMjAiIHk9IjE3IiB3aWR0aD0iNyIgaGVpZ2h0PSI4Ij4KICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI1LjU0NyAxOC4wMDdhLjQ4My40ODMgMCAwIDAtLjA5Ni4xMDQgNi4zNiA2LjM2IDAgMCAxLTMuNDAyIDEuODkyIDIuMDgyIDIuMDgyIDAgMCAwLTEuMzM4LjYwMiAyLjA3MiAyLjA3MiAwIDEgMCAzLjUyNCAxLjY4MyA2LjM3IDYuMzcgMCAwIDEgMS45NzQtMy41NDUuNDk1LjQ5NSAwIDAgMC0uNjYyLS43MzZ6IiBmaWxsPSIjZmZmIi8+CiAgICA8L21hc2s+CiAgICA8ZyBtYXNrPSJ1cmwoI2QpIj4KICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE5Ljg4NiAyNC4zNmg2LjY4NnYtNi42OGgtNi42ODZ2Ni42ODF6IiBmaWxsPSIjRkMwIi8+CiAgICA8L2c+CiAgICA8bWFzayBpZD0iZSIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjI4Ij4KICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEzLjAyMi4xMDVDOS4zMDIuNTA5IDUuOTE5IDIuMSAzLjUgNC41ODdhMTIuNzA4IDEyLjcwOCAwIDAgMC0yLjMxMyAzLjI1OUExMS4zNzYgMTEuMzc2IDAgMCAwIDAgMTIuOWMwIDIuMjU3LjY4NyA0LjQ4IDEuOTg1IDYuNDM0LjY1OC45ODkgMS43MzQgMi4yMzQgMi43MjQgMy4xMTN2LjAwMWwtLjQ0NyAzLjUxNmMtLjAxOC4wNDgtLjAzNy4wOTUtLjA0OC4xNDYtLjAxLjA0NS0uMDE0LjA5My0uMDE4LjE0LS4wMDMuMDM2LS4wMS4wNy0uMDEuMTA4IDAgLjAzOS4wMDcuMDc2LjAxLjExNS4wNi41NzguNTQyIDEuMDMxIDEuMTM2IDEuMDMxLjIwNyAwIC4zOTgtLjA1OS41NjYtLjE1NWwuMDE2LS4wMDljLjAyNS0uMDE0LjA1LS4wMjcuMDczLS4wNDNsMS4wNjgtLjUzNiAzLjE4NC0xLjU5OGMuOTE1LjI2MyAxLjgyNC40MyAyLjc4LjUzNWExNy4yMzQgMTcuMjM0IDAgMCAwIDMuODM4LS4wMSAxNi43MDUgMTYuNzA1IDAgMCAwIDMuNzU0LS44NzggMi4wNyAyLjA3IDAgMCAxLTEuNDEtMi4xNjVjLS44NTIuMjcxLTEuNzQyLjQ2NS0yLjY2Mi41N2ExNC40NjUgMTQuNDY1IDAgMCAxLTMuMjE0LjAxYy0uMTA3LS4wMTMtLjIxNi0uMDMtLjMyNC0uMDQ0YTE0LjIyMyAxNC4yMjMgMCAwIDEtMi4xMDctLjQ0MiAxLjQyOSAxLjQyOSAwIDAgMC0xLjEzMy4xMTZjLS4wMy4wMTUtLjA2LjAyOS0uMDkuMDQ2bC0yLjYxNiAxLjU0MS0uMTEzLjA2Ny0uMDAzLjAwMmMtLjA1Ni4wMzMtLjA4OS4wNDUtLjExNy4wNDVhLjE3OC4xNzggMCAwIDEtLjE3NS0uMThsLjEwMS0uNDA4LjExNy0uNDQzYTM5OS45MTggMzk5LjkxOCAwIDAgMSAuNDAzLTEuNTM3IDEuMSAxLjEgMCAwIDAtLjM5NS0xLjIyMSAxMi4xMjcgMTIuMTI3IDAgMCAxLTEuMDkzLS45MTggMTAuNjggMTAuNjggMCAwIDEtMS41NS0xLjgzMmMtMS4wMjgtMS41NDctMS41NzItMy4zMDEtMS41NzItNS4wNzQgMC0xLjM3Ny4zMTUtMi43MTUuOTM2LTMuOTc5QTEwLjIwNyAxMC4yMDcgMCAwIDEgNS40NSA2LjM1MmMxLjk5LTIuMDQzIDQuNzg2LTMuMzU0IDcuODc2LTMuNjlhMTQuNjgyIDE0LjY4MiAwIDAgMSAxLjU3MS0uMDg4Yy41MzEgMCAxLjA4NC4wMzIgMS42NDMuMDk2IDMuMDc1LjM1IDUuODU1IDEuNjY3IDcuODMgMy43MDhhMTAuMTkgMTAuMTkgMCAwIDEgMS44NDYgMi42MThjLjYxIDEuMjU1LjkyIDIuNTgzLjkyIDMuOTQ3IDAgLjE0MS0uMDEuMjgyLS4wMTYuNDI0YTIuMDY4IDIuMDY4IDAgMCAxIDIuNTQzLjI5OGMuMDM1LjAzNS4wNjQuMDczLjA5Ni4xMWExMS4zNzggMTEuMzc4IDAgMCAwLTEuMTMyLTUuODg5IDEyLjcxIDEyLjcxIDAgMCAwLTIuMy0zLjI2N0MyMy45MjMgMi4xMzUgMjAuNTYuNTM1IDE2Ljg1Ni4xMTNBMTcuNDY0IDE3LjQ2NCAwIDAgMCAxNC44OTcgMGMtLjYwNCAwLTEuMjM2LjAzNS0xLjg3NS4xMDV6IiBmaWxsPSIjZmZmIi8+CiAgICA8L21hc2s+CiAgICA8ZyBtYXNrPSJ1cmwoI2UpIj4KICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS0uMjE4IDI3LjcyMmgzMC4yM1YtLjIxOEgtLjIxN3YyNy45NHoiIGZpbGw9IiMwMDgyRUYiLz4KICAgIDwvZz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtMTY4LjQyIDIzLjI1LTEuMjQ3IDEuODgxYy0zLjc4Ny0xLjQxLTYuOTM5LTMuMTc1LTkuNDMzLTUuMjkyLTIuNjU4IDIuMzUyLTUuOTI3IDQuMDkzLTkuODA5IDUuMjIybC0xLjE5OS0xLjk3NmMzLjgxLS45ODggNi45MzktMi41NCA5LjQzMi00LjY4LTIuNTg3LTIuNTg4LTQuMzk4LTUuNjQ2LTUuNDEtOS4xMjhoLTMuNTk5di0yLjIxaDkuNDhhMTcuMjM4IDE3LjIzOCAwIDAgMC0yLjI1OC0zLjJsMi4yMzQtLjgyM2MuODQ3IDEuMTI5IDEuNjQ3IDIuNDcgMi4zNzYgNC4wMjJoOC45MTV2Mi4yMTFoLTMuNTk5Yy0xLjEyOSAzLjU3Ni0yLjc5OSA2LjU2My01LjAxIDguOTg2IDIuNDQ2IDIgNS41MDQgMy42NyA5LjEyNyA0Ljk4N3pNMTUyLjg5NSA5LjI3N2ExOC45NjkgMTguOTY5IDAgMCAwIDQuODIyIDcuNTk4YzEuOTA1LTIuMDkzIDMuMzQtNC42MzQgNC4yODEtNy41OThoLTkuMTAzem0zOC43NzQgMTUuNzEzVjExLjI1M2gtNC43OTl2LTcuOTVoLTIuMjgydjcuOTVoLTQuOTg2djIuMTY0aDkuODU2djMuMmgtOS4yNjh2Mi4xMTZoOS4yNjh2My4yMjNoLTEwLjIwOXYyLjE4OGgxMC4yMDl2Ljg0NmgyLjIxMXptLTE1LjI2Ni0xMS41MDJ2MTEuNDA4aC0yLjIzNVYxMy45ODJjLS43MDYgMS45NzYtMS41NzYgMy44MS0yLjYxMSA1LjQ1N2wtLjk2NC0yLjQyM2MxLjYyMy0yLjExNyAyLjc5OS00LjQ5MyAzLjUyOC03LjE3NGgtMi45NjR2LTIuMTRoMy4wMTF2LTQuNGgyLjIzNXY0LjRoMi42MTF2Mi4xNGgtMi42MTF2MS4wODJhNjQuNDY2IDY0LjQ2NiAwIDAgMSAzLjE3NSAzLjY5M2wtMS4yOTQgMS44ODJhODcuMjQ5IDg3LjI0OSAwIDAgMC0xLjg4MS0zLjAxMXptMTMuNDMxLTMuMTI5YTI4LjU5IDI4LjU5IDAgMCAwIDIuNDQ2LTQuOTYzbC0xLjk3Ni0uOTRjLS41ODggMS42MjItMS4zODcgMy4yNjktMi4zNzUgNC45MTVsMS45MDUuOTg4em0tNi40MjItLjk4OC0xLjkyOS45NjVjLS43NTItMS43ODgtMS41NTItMy4zNjQtMi4zOTktNC43NTJsMS45NzYtLjk2NGMuODIzIDEuNDM1IDEuNiAzLjAxIDIuMzUyIDQuNzUxeiIgZmlsbD0iIzAwODJFRiIvPgogICAgPGNpcmNsZSBjeD0iMTM5LjUiIGN5PSIxNS41IiByPSIxLjUiIGZpbGw9IiMwMDgyRUYiLz4KPC9zdmc+Cg==';

export declare type NetDiskProps = {
  open: boolean
  tableProps?: FileItemTableProps | undefined
  onCancel?: () => void | undefined
};
const App: FC<NetDiskProps> = (props) => {
  const [modal, setModal] = useState(false);
  useEffect(() => {
    setModal(props.open);
  }, [props.open]);
  return <>
    <Modal open={modal} title={<div style={{
      userSelect: 'none',
      padding: '20px 0 8px 30px',
      borderBottom: '1px solid #eee'
    }}>
      <img src={IconDiskLogo} style={{
        height: 22
      }} alt=""/>
    </div>} width={1000} maskClosable={false} onCancel={() => props?.onCancel?.()} footer={false} styles={{
      content: { padding: '0 0 2px 0' },
      body: {
        overflowY: 'auto'
      }
    }} keyboard={false}>
      <FileItemTable {...props.tableProps}/>
    </Modal>
  </>;
};
export default App;
